function jt(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const f=Object.getOwnPropertyDescriptor(o,i);f&&Object.defineProperty(e,i,f.get?f:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q={exports:{}},u={};var ft;function xt(){if(ft)return u;ft=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),et=Symbol.iterator;function At(n){return n===null||typeof n!="object"?null:(n=et&&n[et]||n["@@iterator"],typeof n=="function"?n:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,st={};function w(n,s,a){this.props=n,this.context=s,this.refs=st,this.updater=a||nt}w.prototype.isReactComponent={},w.prototype.setState=function(n,s){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,s,"setState")},w.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ot(){}ot.prototype=w.prototype;function x(n,s,a){this.props=n,this.context=s,this.refs=st,this.updater=a||nt}var U=x.prototype=new ot;U.constructor=x,rt(U,w.prototype),U.isPureReactComponent=!0;var it=Array.isArray;function B(){}var _={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function H(n,s,a){var c=a.ref;return{$$typeof:e,type:n,key:s,ref:c!==void 0?c:null,props:a}}function $t(n,s){return H(n.type,s,n.props)}function Y(n){return typeof n=="object"&&n!==null&&n.$$typeof===e}function Pt(n){var s={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(a){return s[a]})}var ct=/\/+/g;function G(n,s){return typeof n=="object"&&n!==null&&n.key!=null?Pt(""+n.key):s.toString(36)}function kt(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(B,B):(n.status="pending",n.then(function(s){n.status==="pending"&&(n.status="fulfilled",n.value=s)},function(s){n.status==="pending"&&(n.status="rejected",n.reason=s)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function D(n,s,a,c,p){var l=typeof n;(l==="undefined"||l==="boolean")&&(n=null);var h=!1;if(n===null)h=!0;else switch(l){case"bigint":case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case e:case t:h=!0;break;case y:return h=n._init,D(h(n._payload),s,a,c,p)}}if(h)return p=p(n),h=c===""?"."+G(n,0):c,it(p)?(a="",h!=null&&(a=h.replace(ct,"$&/")+"/"),D(p,s,a,"",function(Ot){return Ot})):p!=null&&(Y(p)&&(p=$t(p,a+(p.key==null||n&&n.key===p.key?"":(""+p.key).replace(ct,"$&/")+"/")+h)),s.push(p)),1;h=0;var b=c===""?".":c+":";if(it(n))for(var E=0;E<n.length;E++)c=n[E],l=b+G(c,E),h+=D(c,s,a,l,p);else if(E=At(n),typeof E=="function")for(n=E.call(n),E=0;!(c=n.next()).done;)c=c.value,l=b+G(c,E++),h+=D(c,s,a,l,p);else if(l==="object"){if(typeof n.then=="function")return D(kt(n),s,a,c,p);throw s=String(n),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.")}return h}function L(n,s,a){if(n==null)return n;var c=[],p=0;return D(n,c,"","",function(l){return s.call(a,l,p++)}),c}function Nt(n){if(n._status===-1){var s=n._result;s=s(),s.then(function(a){(n._status===0||n._status===-1)&&(n._status=1,n._result=a)},function(a){(n._status===0||n._status===-1)&&(n._status=2,n._result=a)}),n._status===-1&&(n._status=0,n._result=s)}if(n._status===1)return n._result.default;throw n._result}var at=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Lt={map:L,forEach:function(n,s,a){L(n,function(){s.apply(this,arguments)},a)},count:function(n){var s=0;return L(n,function(){s++}),s},toArray:function(n){return L(n,function(s){return s})||[]},only:function(n){if(!Y(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};return u.Activity=C,u.Children=Lt,u.Component=w,u.Fragment=r,u.Profiler=i,u.PureComponent=x,u.StrictMode=o,u.Suspense=S,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,u.__COMPILER_RUNTIME={__proto__:null,c:function(n){return _.H.useMemoCache(n)}},u.cache=function(n){return function(){return n.apply(null,arguments)}},u.cacheSignal=function(){return null},u.cloneElement=function(n,s,a){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var c=rt({},n.props),p=n.key;if(s!=null)for(l in s.key!==void 0&&(p=""+s.key),s)!ut.call(s,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&s.ref===void 0||(c[l]=s[l]);var l=arguments.length-2;if(l===1)c.children=a;else if(1<l){for(var h=Array(l),b=0;b<l;b++)h[b]=arguments[b+2];c.children=h}return H(n.type,p,c)},u.createContext=function(n){return n={$$typeof:d,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:f,_context:n},n},u.createElement=function(n,s,a){var c,p={},l=null;if(s!=null)for(c in s.key!==void 0&&(l=""+s.key),s)ut.call(s,c)&&c!=="key"&&c!=="__self"&&c!=="__source"&&(p[c]=s[c]);var h=arguments.length-2;if(h===1)p.children=a;else if(1<h){for(var b=Array(h),E=0;E<h;E++)b[E]=arguments[E+2];p.children=b}if(n&&n.defaultProps)for(c in h=n.defaultProps,h)p[c]===void 0&&(p[c]=h[c]);return H(n,l,p)},u.createRef=function(){return{current:null}},u.forwardRef=function(n){return{$$typeof:g,render:n}},u.isValidElement=Y,u.lazy=function(n){return{$$typeof:y,_payload:{_status:-1,_result:n},_init:Nt}},u.memo=function(n,s){return{$$typeof:m,type:n,compare:s===void 0?null:s}},u.startTransition=function(n){var s=_.T,a={};_.T=a;try{var c=n(),p=_.S;p!==null&&p(a,c),typeof c=="object"&&c!==null&&typeof c.then=="function"&&c.then(B,at)}catch(l){at(l)}finally{s!==null&&a.types!==null&&(s.types=a.types),_.T=s}},u.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},u.use=function(n){return _.H.use(n)},u.useActionState=function(n,s,a){return _.H.useActionState(n,s,a)},u.useCallback=function(n,s){return _.H.useCallback(n,s)},u.useContext=function(n){return _.H.useContext(n)},u.useDebugValue=function(){},u.useDeferredValue=function(n,s){return _.H.useDeferredValue(n,s)},u.useEffect=function(n,s){return _.H.useEffect(n,s)},u.useEffectEvent=function(n){return _.H.useEffectEvent(n)},u.useId=function(){return _.H.useId()},u.useImperativeHandle=function(n,s,a){return _.H.useImperativeHandle(n,s,a)},u.useInsertionEffect=function(n,s){return _.H.useInsertionEffect(n,s)},u.useLayoutEffect=function(n,s){return _.H.useLayoutEffect(n,s)},u.useMemo=function(n,s){return _.H.useMemo(n,s)},u.useOptimistic=function(n,s){return _.H.useOptimistic(n,s)},u.useReducer=function(n,s,a){return _.H.useReducer(n,s,a)},u.useRef=function(n){return _.H.useRef(n)},u.useState=function(n){return _.H.useState(n)},u.useSyncExternalStore=function(n,s,a){return _.H.useSyncExternalStore(n,s,a)},u.useTransition=function(){return _.H.useTransition()},u.version="19.2.3",u}var pt;function Ut(){return pt||(pt=1,q.exports=xt()),q.exports}var $=Ut();const Bt=Mt($),ke=jt({__proto__:null,default:Bt},[$]),T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,R=globalThis,k="10.36.0";function j(){return X(R),R}function X(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||k,t[k]=t[k]||{}}function J(e,t,r=R){const o=r.__SENTRY__=r.__SENTRY__||{},i=o[k]=o[k]||{};return i[e]||(i[e]=t())}const Ht="Sentry Logger ",lt={};function St(e){if(!("console"in R))return e();const t=R.console,r={},o=Object.keys(lt);o.forEach(i=>{const f=lt[i];r[i]=t[i],t[i]=f});try{return e()}finally{o.forEach(i=>{t[i]=r[i]})}}function Yt(){V().enabled=!0}function Gt(){V().enabled=!1}function vt(){return V().enabled}function qt(...e){Q("log",...e)}function Ft(...e){Q("warn",...e)}function Kt(...e){Q("error",...e)}function Q(e,...t){T&&vt()&&St(()=>{R.console[e](`${Ht}[${e}]:`,...t)})}function V(){return T?J("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const v={enable:Yt,disable:Gt,isEnabled:vt,log:qt,warn:Ft,error:Kt},bt=Object.prototype.toString;function Wt(e){switch(bt.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Qt(e,Error)}}function zt(e,t){return bt.call(e)===`[object ${t}]`}function Xt(e){return zt(e,"Object")}function Jt(e){return!!(e?.then&&typeof e.then=="function")}function Qt(e,t){try{return e instanceof t}catch{return!1}}function Vt(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{T&&v.log(`Failed to add non-enumerable property "${t}" to object`,e)}}let A;function M(e){if(A!==void 0)return A?A(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),r=R;return t in r&&typeof r[t]=="function"?(A=r[t],A(e)):(A=null,e())}function W(){return M(()=>Math.random())}function Zt(){return M(()=>Date.now())}function te(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ee(){const e=R;return e.crypto||e.msCrypto}let F;function ne(){return W()*16}function N(e=ee()){try{if(e?.randomUUID)return M(()=>e.randomUUID()).replace(/-/g,"")}catch{}return F||(F="10000000100040008000"+1e11),F.replace(/[018]/g,t=>(t^(ne()&15)>>t/4).toString(16))}const Rt=1e3;function Ct(){return Zt()/Rt}function re(){const{performance:e}=R;if(!e?.now||!e.timeOrigin)return Ct;const t=e.timeOrigin;return()=>(t+M(()=>e.now()))/Rt}let _t;function se(){return(_t??(_t=re()))()}function oe(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||se(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:N()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function It(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const o={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=It(o[i],t[i],r-1));return o}function ht(){return N()}const z="_sentrySpan";function dt(e,t){t?Vt(e,z,t):delete e[z]}function gt(e){return e[z]}const ie=100;class I{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ht(),sampleRand:W()}}clone(){const t=new I;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,dt(t,gt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&oe(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this.setTags({[t]:r})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,r){return this.setAttributes({[t]:r})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,o=r instanceof I?r.getScopeData():Xt(r)?t:void 0,{tags:i,attributes:f,extra:d,user:g,contexts:S,level:m,fingerprint:y=[],propagationContext:C}=o||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...f},this._extra={...this._extra,...d},this._contexts={...this._contexts,...S},g&&Object.keys(g).length&&(this._user=g),m&&(this._level=m),y.length&&(this._fingerprint=y),C&&(this._propagationContext=C),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,dt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ht(),sampleRand:W()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const o=typeof r=="number"?r:ie;if(o<=0)return this;const i={timestamp:Ct(),...t,message:t.message?te(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>o&&(this._breadcrumbs=this._breadcrumbs.slice(-o),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=It(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const o=r?.event_id||N();if(!this._client)return T&&v.warn("No client configured on scope - will not capture exception!"),o;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:o},this),o}captureMessage(t,r,o){const i=o?.event_id||N();if(!this._client)return T&&v.warn("No client configured on scope - will not capture message!"),i;const f=o?.syntheticException??new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:f,...o,event_id:i},this),i}captureEvent(t,r){const o=r?.event_id||N();return this._client?(this._client.captureEvent(t,{...r,event_id:o},this),o):(T&&v.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function ue(){return J("defaultCurrentScope",()=>new I)}function ce(){return J("defaultIsolationScope",()=>new I)}class ae{constructor(t,r){let o;t?o=t:o=new I;let i;r?i=r:i=new I,this._stack=[{scope:o}],this._isolationScope=i}withScope(t){const r=this._pushScope();let o;try{o=t(r)}catch(i){throw this._popScope(),i}return Jt(o)?o.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function P(){const e=j(),t=X(e);return t.stack=t.stack||new ae(ue(),ce())}function fe(e){return P().withScope(e)}function pe(e,t){const r=P();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function yt(e){return P().withScope(()=>e(P().getIsolationScope()))}function le(){return{withIsolationScope:yt,withScope:fe,withSetScope:pe,withSetIsolationScope:(e,t)=>yt(t),getCurrentScope:()=>P().getScope(),getIsolationScope:()=>P().getIsolationScope()}}function Z(e){const t=X(e);return t.acs?t.acs:le()}function tt(){const e=j();return Z(e).getCurrentScope()}function _e(){const e=j();return Z(e).getIsolationScope()}function Tt(...e){const t=j(),r=Z(t);if(e.length===2){const[o,i]=e;return o?r.withSetScope(o,i):r.withScope(i)}return r.withScope(e[0])}function wt(){return tt().getClient()}const he=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function de(e){return e==="http"||e==="https"}function ge(e,t=!1){const{host:r,path:o,pass:i,port:f,projectId:d,protocol:g,publicKey:S}=e;return`${g}://${S}${t&&i?`:${i}`:""}@${r}${f?`:${f}`:""}/${o&&`${o}/`}${d}`}function ye(e){const t=he.exec(e);if(!t){St(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,o,i="",f="",d="",g=""]=t.slice(1);let S="",m=g;const y=m.split("/");if(y.length>1&&(S=y.slice(0,-1).join("/"),m=y.pop()),m){const C=m.match(/^\d+/);C&&(m=C[0])}return Dt({host:f,pass:i,path:S,projectId:m,port:d,protocol:r,publicKey:o})}function Dt(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function me(e){if(!T)return!0;const{port:t,projectId:r,protocol:o}=e;return["protocol","publicKey","host","projectId"].find(d=>e[d]?!1:(v.error(`Invalid Sentry Dsn: ${d} missing`),!0))?!1:r.match(/^\d+$/)?de(o)?t&&isNaN(parseInt(t,10))?(v.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(v.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(v.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Ee(e){const t=typeof e=="string"?ye(e):Dt(e);if(!(!t||!me(t)))return t}function Se(e){if(e)return ve(e)?{captureContext:e}:Re(e)?{captureContext:e}:e}function ve(e){return e instanceof I||typeof e=="function"}const be=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Re(e){return Object.keys(e).some(t=>be.includes(t))}function Ce(e,t){return tt().captureException(e,Se(t))}function Ie(){return _e().lastEventId()}function Te(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function we(e,t){const r=Ee(e);if(!r)return"";const o=`${Te(r)}embed/error-page/`;let i=`dsn=${ge(r)}`;for(const f in t)if(f!=="dsn"&&f!=="onClose")if(f==="user"){const d=t.user;if(!d)continue;d.name&&(i+=`&name=${encodeURIComponent(d.name)}`),d.email&&(i+=`&email=${encodeURIComponent(d.email)}`)}else i+=`&${encodeURIComponent(f)}=${encodeURIComponent(t[f])}`;return`${o}?${i}`}const O=R,mt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Et(e={}){const t=O.document,r=t?.head||t?.body;if(!r){mt&&v.error("[showReportDialog] Global document not defined");return}const o=tt(),f=wt()?.getDsn();if(!f){mt&&v.error("[showReportDialog] DSN not configured");return}const d={...e,user:{...o.getUser(),...e.user},eventId:e.eventId||Ie()},g=O.document.createElement("script");g.async=!0,g.crossOrigin="anonymous",g.src=we(f,d);const{onLoad:S,onClose:m}=d;if(S&&(g.onload=S),m){const y=C=>{if(C.data==="__sentry_reportdialog_closed__")try{m()}finally{O.removeEventListener("message",y)}};O.addEventListener("message",y)}r.appendChild(g)}function De(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Ae(e,t){const r=new WeakSet;function o(i,f){if(!r.has(i)){if(i.cause)return r.add(i),o(i.cause,f);i.cause=f}}o(e,t)}function $e(e,{componentStack:t},r){if(De($.version)&&Wt(e)&&t){const o=new Error(e.message);o.name=`React ErrorBoundary ${e.name}`,o.stack=t,Ae(e,o)}return Tt(o=>(o.setContext("react",{componentStack:t}),Ce(e,r)))}const Pe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,K={componentStack:null,error:null,eventId:null};class Ne extends $.Component{constructor(t){super(t),this.state=K,this._openFallbackReportDialog=!0;const r=wt();r&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=r.on("afterSendEvent",o=>{!o.type&&this._lastEventId&&o.event_id===this._lastEventId&&Et({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,r){const{componentStack:o}=r,{beforeCapture:i,onError:f,showDialog:d,dialogOptions:g}=this.props;Tt(S=>{i&&i(S,t,o);const m=this.props.handled!=null?this.props.handled:!!this.props.fallback,y=$e(t,r,{mechanism:{handled:m,type:"auto.function.react.error_boundary"}});f&&f(t,o,y),d&&(this._lastEventId=y,this._openFallbackReportDialog&&Et({...g,eventId:y})),this.setState({error:t,componentStack:o,eventId:y})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:r,eventId:o}=this.state,{onUnmount:i}=this.props;i&&(this.state===K?i(null,null,null):i(t,r,o)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:r,componentStack:o,eventId:i}=this.state;t&&t(r,o,i),this.setState(K)}render(){const{fallback:t,children:r}=this.props,o=this.state;if(o.componentStack===null)return typeof r=="function"?r():r;const i=typeof t=="function"?$.createElement(t,{error:o.error,componentStack:o.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:o.eventId}):t;return $.isValidElement(i)?i:(t&&Pe&&v.warn("fallback did not produce a valid ReactElement"),null)}}export{Ne as E,ke as R,$ as a,Bt as b,Mt as g,Ut as r};
