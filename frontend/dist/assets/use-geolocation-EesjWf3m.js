import{c as f}from"./index-B7gfWGL-.js";import{a as o}from"./sentry-BmFBC7An.js";const I=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],E=f("navigation",I),c="proximityPermissionRequested";function P(){const[l,i]=o.useState(null),[u,a]=o.useState(null),[r,s]=o.useState(!1),n=typeof navigator<"u"&&"geolocation"in navigator,d=typeof localStorage<"u"&&localStorage.getItem(c)==="true",g=o.useCallback(()=>{if(!n){a({code:0,message:"خدمة تحديد الموقع غير متوفرة في متصفحك"});return}s(!0),a(null),localStorage.setItem(c,"true"),navigator.geolocation.getCurrentPosition(e=>{i({latitude:e.coords.latitude,longitude:e.coords.longitude}),s(!1)},e=>{let t="تعذر تحديد موقعك. ";switch(e.code){case e.PERMISSION_DENIED:t+="يرجى السماح للموقع باستخدام موقعك.";break;case e.POSITION_UNAVAILABLE:t+="معلومات الموقع غير متوفرة.";break;case e.TIMEOUT:t+="انتهت مهلة طلب الموقع.";break;default:t+="حدث خطأ غير معروف."}a({code:e.code,message:t}),s(!1)},{enableHighAccuracy:!1,timeout:3e4,maximumAge:6e4})},[n]),m=o.useCallback(()=>{i(null),a(null)},[]);return{position:l,error:u,isLoading:r,isSupported:n,hasPermissionRequested:d,requestPosition:g,clearPosition:m}}export{E as N,P as u};
